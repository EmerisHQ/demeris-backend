CREATE DATABASE oracle;
CREATE DATABASE aggregate;


CREATE USER testuser WITH PASSWORD 'qwer1234';
GRANT ALL ON DATABASE oracle TO testuser;
GRANT SELECT ON TABLE oracle.public.* TO testuser;

CREATE TABLE oracle.binance (symbol STRING PRIMARY KEY, price STRING);
GRANT INSERT, DELETE, UPDATE, SELECT ON oracle.binance TO testuser;
INSERT INTO oracle.binance VALUES ('ATOMUSDT','10');
SELECT * FROM oracle.binance;


CREATE TABLE oracle.coinmarketcap (symbol STRING PRIMARY KEY, price STRING);
GRANT INSERT, DELETE, UPDATE, SELECT ON oracle.coinmarketcap TO testuser;
INSERT INTO oracle.coinmarketcap VALUES ('ATOMUSDT','10');
SELECT * FROM oracle.coinmarketcap;

CREATE TABLE oracle.currencylayer (symbol STRING PRIMARY KEY, price STRING);
GRANT INSERT, DELETE, UPDATE, SELECT ON oracle.currencylayer TO testuser;
INSERT INTO oracle.currencylayer VALUES ('USDEUR','10');
SELECT * FROM oracle.currencylayer;



CREATE TABLE aggregate.tokens (symbol STRING PRIMARY KEY, price STRING);
GRANT INSERT, DELETE, UPDATE, SELECT ON aggregate.tokens TO testuser;
INSERT INTO aggregate.tokens VALUES ('ATOMUSDT','10');
SELECT * FROM aggregate.tokens;

CREATE TABLE aggregate.fiats (symbol STRING PRIMARY KEY, price STRING);
GRANT INSERT, DELETE, UPDATE, SELECT ON aggregate.fiats TO testuser;
INSERT INTO aggregate.fiats VALUES ('USDEUR','10');
SELECT * FROM aggregate.fiats;